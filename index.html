<!DOCTYPE html>
<html lang="pt-BR">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Gerador de Proposta V 2.1 — Grupo Performance Ocupacional</title>

  <!-- Favicon -->
  <link rel="icon" type="image/x-icon" href="favicon.ico">
  <link rel="icon" type="image/png" sizes="16x16" href="favicon-16x16.png">
  <link rel="icon" type="image/png" sizes="32x32" href="favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="192x192" href="favicon-192x192.png">
  <link rel="icon" type="image/png" sizes="512x512" href="favicon-512x512.png">
  <link rel="apple-touch-icon" href="apple-touch-icon.png">

  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  <link rel="stylesheet" href="style.css">
</head>

<body>
  <div class="app-container">
    <header class="topbar">
      <div class="top-left">
        <img id="brandLogo" src="https://drive.google.com/thumbnail?id=1mlXzkIhFaj1MOO1Sb9yR0qZIRT6MNNep" alt="Performance" />
        <div class="brand-text">
          <div class="brand-title">Gerador de Proposta <span class="version-badge">V 2.1</span></div>
          <div class="brand-sub">Grupo Performance Ocupacional</div>
        </div>
      </div>

      <div class="top-actions">
        <button id="saveDraft" class="btn ghost"><i class="fa-regular fa-floppy-disk"></i> Salvar</button>
        <button id="loadDraft" class="btn ghost"><i class="fa-solid fa-folder-open"></i> Carregar</button>
        <button id="clearDraft" class="btn ghost"><i class="fa-solid fa-trash"></i> Limpar</button>
        <button id="generatePreview" class="btn primary"><i class="fa-solid fa-eye"></i> Visualizar</button>
        <button id="printBtn" class="btn accent"><i class="fa-solid fa-print"></i> Imprimir</button>
      </div>
    </header>

    <main class="container">
      <div class="layout">
        <!-- Form (wizard style left) -->
        <aside class="form-column">
          <nav class="wizard">
            <button class="wizard-step active" data-step="1"><i class="fa-solid fa-user"></i> Cliente</button>
            <button class="wizard-step" data-step="2"><i class="fa-solid fa-list"></i> Itens</button>
            <button class="wizard-step" data-step="3"><i class="fa-solid fa-credit-card"></i> Pagamento</button>
            <button class="wizard-step" data-step="4"><i class="fa-solid fa-eye"></i> Revisar</button>
          </nav>

          <form id="proposalForm" class="form-cards" novalidate>
            <!-- Step 1 - Cliente -->
            <section class="card step" data-step="1">
              <h3><i class="fa-solid fa-user"></i> Informações do Cliente</h3>

              <div class="form-group">
                <label>Empresa *</label>
                <input id="company" type="text" placeholder="Razão social / Nome fantasia" required>
              </div>

              <div class="form-group">
                <label>Unidade *</label>
                <input id="contractType" type="text" placeholder="Matriz / Contrato" required>
              </div>

              <div class="row">
                <div class="form-group">
                  <label>Responsável *</label>
                  <input id="responsible" type="text" placeholder="Nome do responsável" required>
                </div>
                <div class="form-group">
                  <label>Telefone *</label>
                  <input id="phone" type="tel" placeholder="(XX) XXXXX-XXXX" required>
                </div>
              </div>

              <div class="form-group">
                <label>Email</label>
                <input id="email" type="email" placeholder="contato@empresa.com">
              </div>

              <div class="form-group">
                <label>CNPJ/CPF</label>
                <input id="taxId" type="text" placeholder="00.000.000/0000-00">
              </div>

              <div class="form-group">
                <label>Endereço</label>
                <input id="address" type="text" placeholder="Endereço completo">
              </div>

              <div class="row">
                <div class="form-group">
                  <label>Cidade</label>
                  <input id="city" type="text" placeholder="Cidade">
                </div>
                <div class="form-group">
                  <label>UF</label>
                  <input id="state" type="text" placeholder="UF" maxlength="2" style="text-transform:uppercase">
                </div>
              </div>

              <div class="form-group">
                <label>Observações</label>
                <textarea id="notes" maxlength="500" placeholder="Observações sobre negociação (máx 500)"></textarea>
              </div>

              <div class="form-group">
                <label>Logo do cliente (opcional)</label>
                <div class="file-input-container">
                  <div class="file-input-label">
                    <i class="fa-solid fa-upload"></i>
                    <span id="fileLabelText">Selecionar arquivo</span>
                  </div>
                  <input id="clientLogo" type="file" accept="image/*">
                </div>
              </div>

              <div class="card-footer small">Data da proposta: <strong id="proposalDate"></strong></div>

              <div class="step-navigation">
                <div></div>
                <button type="button" class="btn primary next-step" data-next="2">Próximo <i class="fa-solid fa-arrow-right"></i></button>
              </div>
            </section>

            <!-- Step 2 - Itens -->
            <section class="card step" data-step="2" style="display:none;">
              <h3><i class="fa-solid fa-list"></i> Itens da Proposta</h3>

              <div class="items-area">
                <table class="items-table">
                  <thead>
                    <tr>
                      <th>#</th>
                      <th>Descrição</th>
                      <th>Qtd</th>
                      <th>Valor unit.</th>
                      <th>Subtotal</th>
                      <th></th>
                    </tr>
                  </thead>
                  <tbody id="itemsBody"></tbody>
                </table>

                <div class="items-controls">
                  <button type="button" id="addItem" class="btn ghost"><i class="fa-solid fa-plus"></i> Adicionar item</button>
                  <div class="inline">
                    <label class="small">Desconto (%)</label>
                    <input id="discount" type="number" min="0" max="100" value="0" style="width:100px">
                  </div>
                </div>
              </div>

              <div class="card-footer small">Total: <strong>R$ <span id="totalDisplay">0,00</span></strong></div>

              <div class="step-navigation">
                <button type="button" class="btn ghost prev-step" data-prev="1"><i class="fa-solid fa-arrow-left"></i> Anterior</button>
                <button type="button" class="btn primary next-step" data-next="3">Próximo <i class="fa-solid fa-arrow-right"></i></button>
              </div>
            </section>

            <!-- Step 3 - Pagamento -->
            <section class="card step" data-step="3" style="display:none;">
              <h3><i class="fa-solid fa-credit-card"></i> Pagamento & Entrega</h3>

              <div class="form-group">
                <label>Forma de pagamento</label>
                <select id="paymentMethod">
                  <option>À vista</option>
                  <option>Cartão de Crédito</option>
                  <option>PIX</option>
                  <option>Faturamento</option>
                </select>
              </div>

              <div id="billingDays" style="display:none">
                <div class="form-group">
                  <label>Dias combinados</label>
                  <input id="billingDaysInput" type="text" placeholder="Ex.: 30 dias">
                </div>
              </div>

              <div class="form-group">
                <label>Estimativa de entrega</label>
                <input id="leadTime" type="text" placeholder="Ex.: 15 dias úteis">
              </div>

              <div class="card-footer small">Validade da proposta: <strong>30 dias</strong></div>

              <div class="step-navigation">
                <button type="button" class="btn ghost prev-step" data-prev="2"><i class="fa-solid fa-arrow-left"></i> Anterior</button>
                <button type="button" class="btn primary next-step" data-next="4">Próximo <i class="fa-solid fa-arrow-right"></i></button>
              </div>
            </section>

            <!-- Step 4 - Revisar -->
            <section class="card step" data-step="4" style="display:none;">
              <h3><i class="fa-solid fa-eye"></i> Revisar & Gerar</h3>

              <p class="small">Revise as informações e clique em <strong>Visualizar</strong> para ver o layout da proposta à direita. Em seguida, clique em <strong>Imprimir</strong> para gerar a proposta.</p>

              <div class="muted-box">
                <p><strong>Atenção:</strong> Use o botão <em>Salvar</em> para salvar localmente.</p>
              </div>

              <div class="step-navigation">
                <button type="button" class="btn ghost prev-step" data-prev="3"><i class="fa-solid fa-arrow-left"></i> Anterior</button>
                <div></div>
              </div>
            </section>
          </form>
        </aside>

        <!-- Preview (right) -->
        <section class="preview-column">
          <div class="preview-sticky">
            <div class="preview-card" id="previewCard" role="document" aria-live="polite">
              <div class="proposal-doc" id="proposalDoc">
                <header class="doc-header">
                  <div class="doc-left">
                    <img id="docLogo" src="https://iili.io/KC5KbK7.png" alt="Logo Performance" />
                    <div class="doc-company">Grupo Performance Ocupacional</div>
                  </div>
                  <div class="doc-right">
                    <div class="doc-title">Proposta Comercial</div>
                    <div class="doc-meta">Data: <span id="docDate"></span></div>
                    <div class="doc-meta">Validade: <span>30 dias</span></div>
                  </div>
                </header>

                <section class="doc-body">
                  <div class="doc-kv">
                    <div>
                      <div class="kv-key">Empresa</div>
                      <div class="kv-value" id="pd_company_container">
                        <img id="pd_client_logo" class="client-logo" src="" style="display: none;">
                        <span id="pd_company">—</span>
                      </div>
                    </div>
                    <div>
                      <div class="kv-key">Contato</div>
                      <div id="pd_contact">—</div>
                    </div>
                    <div>
                      <div class="kv-key">Contrato</div>
                      <div id="pd_contract">—</div>
                    </div>
                    <div>
                      <div class="kv-key">Email</div>
                      <div id="pd_email">—</div>
                    </div>
                  </div>

                  <div id="additionalInfo"></div>

                  <div class="doc-items">
                    <table id="pd_items" class="pd-table">
                      <thead>
                        <tr>
                          <th>Descrição</th>
                          <th>Qtd</th>
                          <th>Unit.</th>
                          <th>Subtotal</th>
                        </tr>
                      </thead>
                      <tbody></tbody>
                    </table>
                  </div>

                  <div class="doc-totals">
                    <div><span>Subtotal:</span> R$ <span id="pd_subtotal">0,00</span></div>
                    <div><span>Desconto:</span> R$ <span id="pd_discount_value">0,00</span> (<span id="pd_discount_pct">0</span>%)</div>
                    <div class="doc-total"><span>Total:</span> R$ <span id="pd_total">0,00</span></div>
                  </div>

                  <!-- Informações de Faturamento em Destaque -->
                  <div class="billing-info">
                    <h4><i class="fa-solid fa-file-invoice-dollar"></i> Informações de Faturamento</h4>

                    <div class="billing-section">
                      <h5>Documentação e Treinamentos: Filial Itaguara/MG</h5>
                      <p><strong>Razão Social:</strong> ROBSON LUCIANO SIQUEIRA SICA</p>
                      <p><strong>Nome Fantasia:</strong> PERFORMANCE OCUPACIONAL</p>
                      <p><strong>CNPJ:</strong> 27.708.974/0001-80</p>
                    </div>

                    <div class="billing-section">
                      <h5>Exames Médicos Ocupacionais: Matriz Itatiaiuçu/MG</h5>
                      <p><strong>Razão Social:</strong> PERFORMANCE SAÚDE E SEGURANCA OCUPACIONAL LTDA</p>
                      <p><strong>Nome Fantasia:</strong> PERFORMANCE OCUPACIONAL</p>
                      <p><strong>CNPJ:</strong> 13.583.116/0001-42</p>
                    </div>
                  </div>

                  <div class="doc-accept">
                    <h4>Aceite da Proposta Comercial</h4>
                    <p>Para dar início à parceria e garantir a execução dos serviços contratados, é necessário apenas a formalização do aceite desta proposta comercial. Após a confirmação, nossa equipe entrará em contato de forma imediata para alinhar todos os detalhes necessários.</p>
                  </div>
                </section>

                <footer class="doc-footer">
                  <div>Licenciado para uso interno</div>
                  <div>©Grupo Performance Ocupacional</div>
                </footer>
              </div>
            </div>

            <div class="hint small">Preview responsivo — use o botão Imprimir para gerar a proposta.</div>
          </div>
        </section>
      </div>
    </main>

    <footer class="app-footer">
      Aplicativo Criado por Filipe Goulart — ©Grupo Performance Ocupacional 2025
    </footer>
  </div>

  <script src="script.js"></script>
</body>

</html>
